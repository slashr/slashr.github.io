<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Akash Nair &middot; Sky Wide 
    
  </title>

  


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->
</head>


  <body class="index">

    <div id="sidebar">
  <header>
    <h1 class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Akash Nair
      </a>
    </h1>
    <p class="lead">I am a DevOps Engineer and an automation extremist. I design, build and implement architectures on the cloud</p>
  </header>
  <nav id="sidebar-nav-links">
  
  

  

  <div id="profile-container">
     <image height=185 width=185 id="profileImage" src="/assets/images/avatar.png" />
  </div>

  <!-- Icons downloaded from https://iconmonstr.com/ -->
  <!-- Home link sidebar-->
  <a id="home-link"
       title="Home" aria-label="Home"
       href="/">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.5 14.625c0 .484-.387.875-.864.875h-5.273c-.477 0-.863-.392-.863-.875s.387-.875.863-.875h5.272c.478 0 .865.391.865.875zm-6.191-4.375h2.466c.448 0 .809-.392.809-.875s-.361-.875-.81-.875h-2.465c-.447 0-.809.392-.809.875s.362.875.809.875zm14.691 1.75c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-1.039c0-.383-.311-.692-.691-.692h-1.138c-.583 0-.69-.446-.69-.996-.001-2.36-1.91-4.273-4.265-4.273h-2.952c-2.355 0-4.264 1.913-4.264 4.272v5.455c0 2.36 1.909 4.273 4.264 4.273h5.474c2.353 0 4.262-1.913 4.262-4.272v-3.767z"/></svg>
       Home
    </a>

  <!--LinkedIn link sidebar-->
  <a id="linkedin-link"
       title="LinkedIn" aria-label="LinkedIn"
       href="https://www.linkedin.com/in/akashnair/" target="_blank">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 8c0 .557-.447 1.008-1 1.008s-1-.45-1-1.008c0-.557.447-1.008 1-1.008s1 .452 1 1.008zm0 2h-2v6h2v-6zm3 0h-2v6h2v-2.861c0-1.722 2.002-1.881 2.002 0v2.861h1.998v-3.359c0-3.284-3.128-3.164-4-1.548v-1.093z"/></svg>       
       LinkedIn
    </a>

  <!--Github link sidebar-->
  <a id="github-link"
       title="GitHub" aria-label="GitHub Profile"
       href="https://github.com/slashr" target="_blank">      
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
       GitHub
    </a>

 <!-- Resume link sidebar-->
  <a id="Resume-link"
       title="Resume" aria-label="Resume"
       href="/assets/Akash-Nair-Resume.pdf">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23.995 24h-1.995c0-3.104.119-3.55-1.761-3.986-2.877-.664-5.594-1.291-6.584-3.458-.361-.791-.601-2.095.31-3.814 2.042-3.857 2.554-7.165 1.403-9.076-1.341-2.229-5.413-2.241-6.766.034-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 4.983 0 8.451 4.766 3.732 13.678-1.551 2.928 1.65 3.624 5.09 4.418 2.979.688 3.178 2.143 3.178 4.663l-.005 1.241zm-13.478-6l.91 2h1.164l.92-2h-2.994zm2.995 6l-.704-3h-1.615l-.704 3h3.023z"/></svg>
       Resume
    </a>


 <!-- 


  
    
  

  
    
      <a class="page-link "
          href="/about.html">About</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  


  


  
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/edge-case.html">Edge Case</a>
    
  

  
    
  

  

  
    
      <a class="category-link "
          href="/category/markup.html">Markup</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  
-->

  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  

  <nav id="sidebar-icon-links">
<!--
    <a id="github-link"
       class="icon" title="Github Project" aria-label="Github Project"
       href="https://github.com/slashr">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    </a>
    <a id="github-download-link"
       class="icon" title="Download" aria-label="Download"
       href="https://github.com/slashr/archive/v.zip">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>

  <p>
 <font size="1"> &copy; 2018 All rights reserved.</font>
  <!--<a href="/LICENSE.md">MIT License.</a>-->
</p>

</div>

    <main class="container">
      <div class="content">
  
<div class="pagination">
  <a class="pagination-item newer"
     href="/page3">
    Newer
  </a>
</div>



  

  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/codecommit-walkthrough/">
        Getting Started with CodeCommit
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">26 Oct 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        Automation
      
    
      &bull;

      
      
      

      
        AWS
      
    
      &bull;

      
      
      

      
        Ops
      
    
  </span>
</div>


    
      <h4 id="setting-up-codecommit">Setting up CodeCommit</h4>

<p>This tutorial is written for the linux environment and uses SSH as the communication protocol.</p>

<ol>
  <li>First, we need an IAM user that has full access to the AWS CodeCommit service. You can either create a new user and attach the appropriate policy to it or use an existing user.</li>
  <li>Next, we install Git on the instance.</li>
  <li>In order to associate the IAM user with full CodeCommit access with the EC2 instance, we will create an ssh-key pair on the instance and link it with the IAM user through the AWS console. While logged in to the instance, perform the following steps &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code class="nohighlight">ssh-keygen</code> <ol>
     <li>
       Enter a file name. Example code_commit
     </li>
     <li>
       Enter the passphrase if required and press enter
     </li>
   </ol>
 </li>

    <li>
   This will generate two files:  The private key file <em>code_commit</em> and the public key file <em>code_commit.pub</em>. Copy the contents of the public key and save it (we&#8217;ll require it in the following steps)
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Go to the IAM console, choose Policies and then select IAMUserSSHKeys. Click on Attach and then select the IAM user we created/chose in the first step. Click on Attach Policy</li>
  <li>Go back to the IAM console and click on Users. Select our IAM user, scroll down and click on Upload SSH public key. Paste the text you copied previously and click Upload SSH public key</li>
  <li>Copy the SSH Key ID that will be generated and save it</li>
  <li>
    <p>Inside the instance, create a file “config” inside ~/.ssh with the following contents</p>
  </li>
  <li>Save the file and modify permissions: &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>chmod 600 config</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Test the SSH connection to CodeCommit &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code class="${guide.default.syntax.language} hljs css">&lt;span class="hljs-tag"&gt;ssh&lt;/span&gt; &lt;span class="hljs-tag"&gt;git-codecommit&lt;/span&gt;&lt;span class="hljs-class"&gt;.us-east-1&lt;/span&gt;&lt;span class="hljs-class"&gt;.amazonaws&lt;/span&gt;&lt;span class="hljs-class"&gt;.com&lt;/span&gt;</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>If you get a public key denied error, try moving your config and key files to the .ssh directory of the root user.</li>
</ol>

<hr />

<h4 id="creating-a-repository"><strong>Creating a Repository</strong></h4>

<ol>
  <li>Go to the CodeCommit Console. Create a new repository and give it a name and description (optional).</li>
  <li>Create a new directory on your instance. &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>mkdir skywide</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Add the directory to git by running &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git init skywide</code> (This will create a .git directory inside skywide)
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Make a simple file inside the directory in order to test if the implementation is working, say index.html &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>sudo nano index.html</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Add the index.html file to git &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git add index.html</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Run git status &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git status</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>To connect the instance to the repo you created on CodeCommit &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/SkyWide</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>In order to commit the file to the repo, run &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git commit -m "First Commit"Where -m is a message flag that adds a comment to the commit.</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>In order to push the commit to CodeCommit, run &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git push origin master</code><br /> This pushes the master (your local repo) to origin (the CodeCommit repo set in step 7).
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
</ol>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/cloudwatch-custom-metric-quick-start/">
        CloudWatch Custom Metric Quick Start
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">08 Oct 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        AWS
      
    
  </span>
</div>


    
      <h2 id="what-is-cloudwatch-custom-metrics">What is CloudWatch Custom Metrics</h2>

<p>Setting up CloudWatch Custom Metrics on your instance allows you to monitor resources in addition to the default metrics of CPU Utilization, Disk I/O and Network I/O provided by default. Custom Metrics includes the following additional metrics:</p>

<p>memory-used</p>

<p>memory-utilization</p>

<p>memory-available</p>

<p>swap-utilization</p>

<p>swap-used</p>

<p>disk-space-utilization</p>

<p>disk-space-used</p>

<p>disk-space-availability</p>

<hr />

<p>These steps are written specifically for Ubuntu. The steps vary for different distributions.</p>

<ol>
  <li>SSH into your EC2 instance</li>
  <li>Install the required dependencies: &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>sudo apt-get install unzip &amp;&amp; apt-get install libwww-perl &amp;&amp; apt-get install libcrypt-ssleay-perl apt-get install libswitch-perl</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Download the monitoring scripts: &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>wget http://aws-cloudwatch.s3.amazonaws.com/downloads/CloudWatchMonitoringScripts-1.2.1.zip</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Extract the contents and remove the zip file: &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>unzip CloudWatchMonitoringScripts-v1.1.0.zip</code><br /> <code>rm CloudWatchMonitoringScripts-v1.1.0.zip</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Add access key and secret key to the configuration file. Edit the awscreds.template located inside aws-scripts-mon directory file to add your Access Key and Secret Key. &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>cd aws-scripts-mon</code><code>echo "AWSAccessKeyId=****" &gt; awscreds.template</code><br /> <code>echo "AWSSecretKey=****" &gt;&gt; awscreds.template</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Set environment variable &amp; export the path of the credential file &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>path=$(pwd) ; export AWS_CREDENTIAL_FILE=${path}/awscreds.template</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Create a cronjob. Add the monitoring script to the crontab. Run it every 5 minutes or choose a time cycle according to your requirements. &lt;ul style="list-style-type: square;"&gt;
    <li>
   <code>echo "*/5 * * * * ~/aws-scripts-mon/mon-put-instance-data.pl --mem-util --mem-used --mem-avail --swap-util --swap-used --disk-path=/ --disk-space-util --disk-space-used --disk-space-avail" &gt;&gt; /etc/crontab</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Check the metrics on the AWS console</li>
</ol>

<hr />

<p>Head over to the CloudWatch console to check the metrics. Goto: https://console.aws.amazon.com/cloudwatch/</p>

<p>Click on Linux System under Metrics. Then click on the instance ID that you want to check the metrics of.</p>

<p>I have largely automated the setup process in the following script. The distributions currently supported are Amazon Linux, Ubuntu and SUSE Linux.</p>

<p>Download the script here: <a href="https://github.com/slashr/CloudWatch-Deployment/" target="_blank">https://github.com/slashr/CloudWatch-Deployment</a></p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/aws-designing-a-3-tier-web-application/">
        Designing a 3-tier Web Application on AWS
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">08 Jul 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        AWS
      
    
  </span>
</div>


    
      <h2 id="making-the-most-of-aws">Making the Most of AWS</h2>

<p>With an increasing number of websites and web applications moving their infrastructure to AWS from the traditional “web hosting” services, it has become important to ensure that this shift is done properly and in a well-planned manner. Doing so ensures that the application is able to make the most of the benefits AWS has to offer like Scalability, High Availability, Fault Tolerance, Content Distribution Networks and so on.</p>

<p>Below is a guide on how to leverage the infrastructure provided by AWS to create a highly scalable and fault tolerant web architecture.</p>

<hr />

<p>1) <strong>Create a VPC</strong></p>

<p>The first step is to create a Virtual Private Cloud with a CIDR IP range of your choice. The block size should be between /16 and /28</p>

<p><img src="/assets/images/2015/07/Blank-Flowchart-New-Page1-900x854.png" alt="A nice, blank canvas for us to work on" /> A nice, blank canvas for us to work on</p>

<hr />

<p>2) <strong>Create subnets</strong></p>

<p>Next step is to create subnets under the VPC. For our architecture, we’ll design two private subnets in two different availability zones.
<img src="/assets/images/2015/07/Blank-Flowchart-New-Page.png" alt="Two subnets corresponding to two different Availability Zones in order to implement High Availability" /> Two subnets corresponding to two different Availability Zones in order to implement High Availability</p>

<hr />

<p>3) <strong>Adding an Internet Gateway</strong></p>

<p>In order for the instances to access the internet, we must attach an Internet Gateway to the VPC. We’ll first create an Internet Gateway and then attach it to our VPC. In addition to this, we need to edit the Route Tables being used by the two subnets (a route table is created automatically whenever a VPC is created and all the subnets created inside the VPC get implicitly associated with this route table).</p>

<p>Edit the Route Table and add “0.0.0.0/0” to the Target field and select the IGW (Internet Gateway) in the Destination field. This will direct all traffic headed towards “0.0.0.0/0” to the IGW which will then route it to the appropriate destination.</p>

<p><img src="/assets/images/2015/07/Blank-Flowchart-New-Page2.png" alt="IGW allows communicating with internet" /> IGW allows communicating with internet</p>

<hr />

<p>4) <strong>Launch Instances</strong></p>

<p>We only require one instance each for the Web Layer and the Application Layer. The instance will be added to corresponding Auto-Scaling groups (one for Web Layer and one for Application Layer) which will automatically increase or decrease the number of instances in the group.<figure id="attachment_297" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3.png"><img class="size-large wp-image-297" src="http://skywide.in/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-1024x972.png" alt="Launch a single instance of the Web and App servers " width="584" height="554" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-1024x972.png 1024w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-300x285.png 300w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-900x854.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3.png 1180w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Launch a single instance of the Web and App servers&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>5) <strong>Create Load Balancers</strong></p>

<p>Create two Elastic Load Balancers, for the Web Layer and Application Layer respectively. While creating it, configure the ELBs to span both the subnets.<figure id="attachment_307" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3.png"><img class="size-large wp-image-307" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-925x1024.png" alt="Create load balancer for the Web and App layer respectively" width="584" height="647" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-925x1024.png 925w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-271x300.png 271w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-900x997.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3.png 1210w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Load balancers for the Web and App layer respectively&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>6) **Create Auto-Scaling Group and attach it to Load Balancer</p>

<p>**</p>

<p>There are three steps under this.</p>

<p>i) After configuring the Web and Application servers launched above, create an AMI of both.</p>

<p>ii) Create two Auto-Scaling groups for both the Web and Application Layers using the AMIs created in the above step.</p>

<p>iii) Attach the Web Layer Auto-Scaling group to the Web Layer ELB and the Application Layer Aut0-Scaling group to the Application Layer ELB<figure id="attachment_301" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page.png"><img class="size-large wp-image-301" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-1024x1024.png" alt="Create two AutoScaling groups and attach it to the corresponding ELBs" width="584" height="584" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-1024x1024.png 1024w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-150x150.png 150w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-300x300.png 300w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-144x144.png 144w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-900x900.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page.png 1240w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create two AutoScaling groups and attach it to the corresponding ELBs&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>7) <strong>Add the third Database Layer</strong></p>

<p>Add an RDS instance in Multi-AZ mode which will create a standby RDS instance.<figure id="attachment_302" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1.png"><img class="size-large wp-image-302" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-814x1024.png" alt="The third layer of our architecture" width="584" height="735" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-814x1024.png 814w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-238x300.png 238w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-900x1132.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1.png 1240w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;RDS the third layer of the architecture&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>8) <strong>Create CloudFront Distribution using ELB endpoint</strong><figure id="attachment_304" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2.png"><img class="size-large wp-image-304" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-656x1024.png" alt="Create a CloudFront distribution using the ELB endpoint" width="584" height="912" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-656x1024.png 656w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-192x300.png 192w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-900x1405.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create a CloudFront distribution using the Web Layer ELB endpoint&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>9) <strong>Add an S3 bucket to store static content. Connect CloudFront to this bucket.</strong><figure id="attachment_305" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11.png"><img class="size-large wp-image-305" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-643x1024.png" alt="Connect CloudFront to S3 for serving static content" width="584" height="930" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-643x1024.png 643w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-188x300.png 188w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-900x1434.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Store static content on S3 and connect it to CloudFront to S3 which will cache and serve the content&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>10) <strong>Map your domain to the CloudFront Distribution URL by using Route 53 to configure a CNAME record.</strong><figure id="attachment_306" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21.png"><img class="size-large wp-image-306" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-643x1024.png" alt="Create CNAME record using CloudFront Distribution URL" width="584" height="930" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-643x1024.png 643w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-188x300.png 188w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-900x1434.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create a CNAME record using CloudFront Distribution URL on Route 53&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>By following this design methodology, we can ensure that our architecture is capable of utilizing scalable infrastructure. It is important to identify the components in your architecture that can potentially cause bottlenecks. By refactoring such components, your infrastructure can be made non-blocking. It is also equally important to ensure that your application plays well with scalability. Ideally, your application should be stateless in nature and highly decoupled.</p>

<p>In this way, you are ready to exploit the cloud and fully leverage the benefits it has to offer.</p>

<p><sub>Reference: http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf</sub></p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/unix-fundamentals/">
        Fundamentals and Architecture of Unix
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">25 Jun 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        Nix
      
    
  </span>
</div>


    
      <hr />

<p><a href="#filesystem">File System</a></p>

<p><a href="#shells">Shells</a></p>

<p><a href="#packagemanagement">Package Management</a></p>

<p><a href="#bootprocess">Boot Process</a></p>

<p><a href="#shelltools">Shell Tools</a></p>

<hr />

<p> </p>

<h2 id="file-system">File System</h2>

<p><strong>How to view devices/partitions</strong></p>

<p><code class="highlighter-rouge">ls -la /dev/sd*</code></p>

<p>(l = long description, a = all files including the ones starting with “.”)</p>

<p><strong>How to create partition on a device</strong></p>

<p><code class="highlighter-rouge">parted /dev/sdb</code> (select device)</p>

<p><code class="highlighter-rouge">print</code> (view existing partitions on device)</p>

<p><code class="highlighter-rouge">rm</code> (deletes selected partition)</p>

<p><code class="highlighter-rouge">mklabel msdos</code> (assigns “msdos” label to un-labelled partitions)</p>

<p><code class="highlighter-rouge">mkpart primary 1G 2G</code></p>

<p>(creates a primary partition of size 1GB from block 1GB to 2GB)</p>

<p><strong>View newly created partitions</strong></p>

<p><code class="highlighter-rouge">fdisk -l /dev/sdb</code></p>

<p><strong>Format partition with preferred filesystem</strong></p>

<p><code class="highlighter-rouge">mkfs.ext2 /dev/sdb1&lt;br /&gt;
mkfs.ext4 /dev/sdb2</code></p>

<p><strong>Mounting filesystems</strong></p>

<p><code class="highlighter-rouge">mount -o noatime /dev/sdb1 /mnt</code></p>

<p>(where, -o is options, ‘noatime’ is “no access times” which prevents access times from being written to the inode which results in better performance. /dev/sdb1 is the partition and /mnt is the mount point)</p>

<p>In addition to ‘noatime’ other options include</p>

<ul>
  <li>async      : File operations take place asynchronoulsy</li>
  <li>ro            : Partition mounted in read-only mode</li>
  <li>noexec    : Ignores any “execute bits” on the filesystem. Used for security purposes.</li>
  <li>nosuid    : Ignores any setuserid bits on the filesystem. Used for security purposes.</li>
  <li>remount : Remounts in preferred mode. Example mount -o remount, rw /boot</li>
</ul>

<hr />

<p> </p>

<h2 id="shells">Shells</h2>

<p><strong>Editor Shortcuts</strong></p>

<ul>
  <li>Ctrl-b: Move backward by one character</li>
  <li>Ctrl-f: Move forward by one character</li>
  <li>Ctrl-a: Move to the beginning of the line</li>
  <li>Ctrl-e: Move to the end of the line</li>
  <li>Ctrl-k: Delete from the cursor forward</li>
  <li>Ctrl-u: Delete from the cursor backward</li>
  <li>Ctrl-r: Search the command history</li>
</ul>

<p><strong>Environment Variables</strong></p>

<p>Environment variables are used to define often-used attributes by the shell. Most common environment variables are</p>

<p>$PATH: Specifies the set of directories the shell will search for commands</p>

<p>To list all environment variables</p>

<p><code class="highlighter-rouge">env</code></p>

<p><strong>Shell Profiles</strong></p>

<p>Shell profiles define a user’s environment. Environment variables can be set in a profile. There are two types of profiles.</p>

<p>/etc/profile: Global profile. This is the default profile.</p>

<p>~/.profile   : This is a user specific profile. Any environment variable set in this profile applies to only that specific user.</p>

<p>Note: ~/.profile is executed after /etc/profile. It is possible to override this.</p>

<p><strong>Special Environment Variables</strong></p>

<table style="height: 302px;" width="389">
  <tr>
    <td>
      <strong>Command</strong>
    </td>
    
    <td>
      <strong>Description</strong>
    </td>
  </tr>
  
  <tr>
    <td>
      $$
    </td>
    
    <td>
      Process ID of current shell
    </td>
  </tr>
  
  <tr>
    <td>
      $!
    </td>
    
    <td>
      Background process ID
    </td>
  </tr>
  
  <tr>
    <td>
      $?
    </td>
    
    <td>
      Exit status. &#8216;0&#8217; means success. Any non-zero number indicates an error.
    </td>
  </tr>
  
  <tr>
    <td>
      history
    </td>
    
    <td>
      Provides history of commands executed on shell
    </td>
  </tr>
  
  <tr>
    <td>
      !!
    </td>
    
    <td>
      Re-executes previous command
    </td>
  </tr>
  
  <tr>
    <td>
      ctrl+R
    </td>
    
    <td>
      Searches the command history
    </td>
  </tr>
  
  <tr>
    <td>
      jobs
    </td>
    
    <td>
      List background jobs
    </td>
  </tr>
  
  <tr>
    <td>
      &amp;
    </td>
    
    <td>
      Executes job in background. Ex: sleep 50 &amp;
    </td>
  </tr>
  
  <tr>
    <td>
      fg
    </td>
    
    <td>
      Brings background job to foreground.
    </td>
  </tr>
  
  <tr>
    <td>
      bg
    </td>
    
    <td>
      Sends the job to the background
    </td>
  </tr>
  
  <tr>
    <td>
      fg %d
    </td>
    
    <td>
      Brings the job specified by the job ID (&#8216;d&#8217;) to the foreground
    </td>
  </tr>
  
  <tr>
    <td>
      kill %d
    </td>
    
    <td>
      Kills the specified job ID
    </td>
  </tr>
</table>

<hr />

<p> </p>

<h2 id="package-management">Package Management</h2>

<p><strong>Package Managers</strong></p>

<p>APT (Used by Debian, Ubuntu) and RPM (Used by RedHat, CentOS, SUSE, Fedora) are the two most popular package managers.</p>

<p>Yum provides a wrapper around RPM which allows to install from multiple package repositories. It also resolves dependencies.</p>

<p><strong>Installing Packages</strong></p>

<p><code class="highlighter-rouge">yum install dstat&lt;br /&gt;
rpm -i dstat-0.3.9.rpm</code>(where -i is install)</p>

<p><strong>Upgrading Packages</strong></p>

<p><code class="highlighter-rouge">yum install dstat</code></p>

<p>To upgrade all packages run:</p>

<p><code class="highlighter-rouge">yum upgrade&lt;br /&gt;
rpm -Uvh dstat-0.3.9.rpm</code></p>

<p>(where -U is Upgrade, v is verbose and h is hash (displays hash signs))</p>

<p><strong>Uninstalling Packages</strong></p>

<p><code class="highlighter-rouge">yum remove dstat&lt;br /&gt;
rpm -e dstat</code></p>

<p><strong>Cleaning RPM Database</strong></p>

<p><code class="highlighter-rouge">yum clean all</code> (removes all refresh package metadata next time)</p>

<hr />

<p> </p>

<h2 id="boot-process">Boot Process</h2>

<p><strong>Power Supply Unit</strong></p>

<ol>
  <li>When the power switch is turned on, the internal electrical circuit is complete and the PSU starts getting power. It performs a self-test after which it notifies the CPU through the 4-pin connector that the CPU should power on.</li>
  <li>After the CPU has powered up, the first call is made to the BIOS. The first step taken by the BIOS is to ensure the minimum hardware exists.</li>
  <li>The BIOS can be programmed with firmware. Firmware is the software that is programmed into Electrically Erasable Programmable Read-Only Memory (EEPROM). In this case, the firmware facilitates booting an operating system and configuring basic hardware settings.</li>
  <li>After confirming the existence of the CPU, Memory and Video Card, the BIOS configures them using CMOS. The CMOS serves as the memory of the BIOS where information like memory frequency and CPU frequency is stored. BIOS first sets the memory frequency on the memory controller an then multiplies the memory frequency by CPU frequency multiplier. This product is the speed at which the CPU runs.</li>
  <li>After setting the frequencies the BIOS performs POST (Power-on Self Test) where it checks if &lt;ol style="list-style-type: lower-alpha;"&gt;
    <li>
   The memory is working
 </li>
    <li>
   Hard drives and other devices are responding
 </li>
    <li>
   Keyboard and mouse are connected
 </li>
    <li>
   Initialize any additional BIOSes (eg. RAID cards)
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ol&gt;
</code></pre></div>    </div>
  </li>
  <li>The system may beep in case the POST fails. One beep indicates success, three successive beeps indicate memory error and one long beep followed by two short beeps indicate a video card or display problem.</li>
  <li>Next, based on the boot order set through the BIOS, the device for booting is selected. Supported devices are CD-ROMs, USB flash drives, Hard Drives, a network.</li>
  <li>After selecting the particular drive to boot from, it looks at the first sector of that drive to find the boot sector. There are two main types of boot sectors/partition tables.</li>
</ol>

<p><strong>Master Boot Record (MBR)</strong></p>

<ul>
  <li>Has two parts. <strong>Boot loader information block</strong> (448 bytes) and the <strong>partition table</strong> (64 bytes)</li>
  <li>Boot loader is where the first program the computer can run is stored.</li>
  <li>Partition table stores the logical layout of the drive</li>
</ul>

<p>Since the space provided by the boot loader was becoming insufficient, a process called “chain boot loading” is used where the first program residing in the bootloader loads other programs from elsewhere into the memory is used. This new program then continues the boot process.</p>

<p><strong>GPT – GUID Partition Way</strong></p>

<ul>
  <li>Partitions are identified by Globally-unique ID (GUID) rather than partition numbers (MBR).</li>
  <li>It supports unlimited partitions.</li>
  <li>The address space allows storage devices greater than 2TB (limitation of MBR)</li>
  <li>A backup copy of the partition table is stored at the end of the disk.</li>
</ul>

<p><strong>Bootloader</strong></p>

<p>The purpose of the bootloader is to load the initial kernel and supporting modules into the memory. GRand Unified Bootloader (GRUB) is a widely used bootloader by many Linux distributions. GRUB is a “chain bootloader” and initialises itself in these stages</p>

<p>Stage 1: A very tiny application that can exist in the first part of the drive, it exists to load the next, larger part of the GRUB</p>

<p>Stage 1.5: Contains the drivers necessary to load the filesystem in Stage 2.</p>

<p>Stage 2: This stage loads the menu and config options for GRUB</p>

<p><strong>Kernel and Init</strong></p>

<p>The kernel is the main component of an OS which manages the memory and processor related tasks and also handles the various device drivers of different devices. Since it’s not possible to store every device driver in the kernel (it affects the boot speed), a component called RAM disk (part of RAM as a disk drive) is used on which enough drivers are used so that the kernel can load filesystem where the other drivers are located.</p>

<p>The init system is defined as the organizational scheme for loading the system services. The most common init system in Linux is called “System V init”.</p>

<p>After the ramdisk helps the kernel access the hard drive, the first process is run. i.e. /bin/init.</p>

<p><strong>Runlevels</strong></p>

<p>The init process reads from /etc/inittab to figure out which script to run. These scripts are run or not run based on the desired “runlevel” of the system.</p>

<p>The six runlevels are:</p>

<p>0: Halt the system</p>

<p>1: Singler-user mode (for special administration/troubleshooting)</p>

<p>2: Local Multiuser with Networking but without network service (like NFS)</p>

<p>3: Full Mutliuser with Networking</p>

<p>4: Not Used</p>

<p>5: Full Multiuser with Networking and X Windows(GUI)</p>

<p>6: Reboot</p>

<hr />

<p> </p>

<h2 id="shell-tools">Shell Tools</h2>

<ul>
  <li><a>ps</a></li>
</ul>

<p>The <code class="highlighter-rouge">ps</code> command lists out all the running processes and accepts several arguments. Some useful ps recipes.</p>

<p><code class="highlighter-rouge">ps aux</code>     : shows all running processes from a user standpoint.</p>

<p><code class="highlighter-rouge">ps -lfU</code> : shows all processes owned by <username> in long format.</username></p>

<hr />

<ul>
  <li><a>top</a></li>
</ul>

<p><code class="highlighter-rouge">top</code> shows the most CPU intensive processes in tabular format and refreshes it every second. Pressing <code class="highlighter-rouge">m</code> when <code class="highlighter-rouge">top</code> is running will sort the processes by memory usage rather than the default of processor usage.</p>

<hr />

<ul>
  <li><a>df</a></li>
</ul>

<p><code class="highlighter-rouge">df    </code>   : Shows status of mounted filesystems:</p>

<p><code class="highlighter-rouge">df -h</code>      : Shows status in human readable form</p>

<p><code class="highlighter-rouge">df -h .</code> : Shows only the filesystem on which the current working directory is located.</p>

<hr />

<ul>
  <li><a>du</a></li>
</ul>

<p>Estimates the size on disk of a file/files.</p>

<p><code class="highlighter-rouge">du -h</code> : Returns the information in human readable form</p>

<p>If a directory is provided as an argument to the command, it will return a value for each file in the directory. <code class="highlighter-rouge">du -sh</code> which will give a sum of all the files under the specified directory.</p>

<hr />

<ul>
  <li><a>find</a></li>
</ul>

<p>Finds files on the system. <code class="highlighter-rouge">find .</code> recursively walks the entire filesystem tree below the current working directory and prints out each file.</p>

<p><code class="highlighter-rouge">find . -name 'user'</code> will again walk the entire filesystem recursively but only print out the files named “user”.</p>

<p><code class="highlighter-rouge">find . -name "*.html"</code> will list out all html files.</p>

<p><code class="highlighter-rouge">find . -name 'java' -type d</code> will only list directories while f will list out files.</p>

<hr />

<ul>
  <li><a>kill</a></li>
</ul>

<p>Kill is used to send a signal to a process. It is most commonly used to stop or kill a process.</p>

<p><code class="highlighter-rouge">kill 123</code> : Sends TERM signal to process with PID 123</p>

<p><code class="highlighter-rouge">kill -KILL 123</code> : Sends KILL signal (force-kills process) to process with PID 123</p>

<hr />

<ul>
  <li><a>ls</a></li>
</ul>

<p>Lists contents of a directory.</p>

<p><code class="highlighter-rouge">ls -a</code> : Lists all files and directories include hidden ones</p>

<p><code class="highlighter-rouge">ls -l</code> : Lists info in long format.</p>

<hr />

<ul>
  <li><a>lsof</a></li>
</ul>

<p>Lists open files. Useful in determining what files are being used by a user or process.</p>

<hr />

<ul>
  <li><a>man</a></li>
</ul>

<p>Opens the manual pages for the specified command.</p>

<p><code class="highlighter-rouge">man -k</code> : Searches through the man pages using the search term provided.</p>

<hr />

<ul>
  <li><a>mount</a></li>
</ul>

<p>Mounts filesystems.</p>

<p><code class="highlighter-rouge">mount -t ext4 /dev/sda /mnt</code> : Mounts /dev/sda on mount point /mnt. The ‘-t’ switch indicates the the filesystem type.</p>

<p><code class="highlighter-rouge">mount</code> : Lists the filesystems currently mounted on the system.</p>

<p><code class="highlighter-rouge">mount /home</code> : The mount command will look into /etc/fstab and mount whatever partition is associated with the ‘/home’ entry.</p>

<p><code class="highlighter-rouge">mount -o loop -t iso9660 /home/isos/ubuntu.iso /mnt/cdrom</code> : Mounts the iso file to /mnt/cdrom</p>

<p><code class="highlighter-rouge">mount  -o remount, ro /</code> : Remounts the / filesystem as read-only.</p>

<hr />

<ul>
  <li><a>cat</a></li>
</ul>

<p>Outputs contents of a file.</p>

<p><code class="highlighter-rouge">cat /home/foo.txt:</code> Outputs contents of file “foo.txt” on the shell</p>

<p><code class="highlighter-rouge">cat /tmp/foo.txt /home/jdoe/bar.txt &gt; /home/jdoe/foobar.txt:</code>Outputs contents of files “foo.txt” and “bar.txt” to “foobar.txt” (will overwrite contents of “foobar.txt” if any)</p>

<hr />

<ul>
  <li><a>cut</a></li>
</ul>

<p><code class="highlighter-rouge">cut</code> cuts out specified portions of text</p>

<p><code class="highlighter-rouge">cat students.txt</code></p>

<table>
  <tbody>
    <tr>
      <td>John Doe</td>
      <td>25</td>
      <td>john@example.com</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Jack Smith</td>
      <td>26</td>
      <td>jack@example.com</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Jane Doe</td>
      <td>24</td>
      <td>jane@example.com</td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">cut -f1 -d| students.txt</code></p>

<p>John Doe</p>

<p>Jack Smith</p>

<p>Jane Doe</p>

<p>where -f specifies the field number, -d specifies the delimiter</p>

<hr />

<ul>
  <li><a>awk</a></li>
</ul>

<p><code class="highlighter-rouge">awk</code> is used to extract and manipulate data from files.</p>

<p><code class="highlighter-rouge">cat students.txt</code></p>

<table>
  <tbody>
    <tr>
      <td>John Doe</td>
      <td>25</td>
      <td>john@example.com</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Jack Smith</td>
      <td>26</td>
      <td>jack@example.com</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Jane Doe</td>
      <td>24</td>
      <td>jane@example.com</td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">awk '{print $4, $1}' students.txt</code></p>

<p>john@example.com John</p>

<p>jack@example.com Jack</p>

<p>jane@example.com Jane</p>

<p>The -F flag can be used for custom delimiters</p>

<p><code class="highlighter-rouge">cat students.txt</code></p>

<p>John Doe – 25 – john@example.com</p>

<p>Jack Smith – 26 – jack@example.com</p>

<p>Jane Doe – 24 – jane@example.com</p>

<p><code class="highlighter-rouge">awk -F '-' '{print $1, $3}' students.txt</code></p>

<p>John Doe john@example.com</p>

<p>Jack Smith jack@example.com</p>

<p>Jane Doe jane@example.com</p>

<p>Specific rows can be extracted using the NR flag</p>

<p><code class="highlighter-rouge">awk 'NR==2' students.txt</code></p>

<p>Jack Smith – 26 – jack@example.com</p>

<hr />

<ul>
  <li><a>sort</a></li>
</ul>

<p>sort is used to sort lines of text using parameters</p>

<p>The default action sorts the lines alphabetically</p>

<p><code class="highlighter-rouge">cat coffee.txt</code></p>

<p>Mocha</p>

<p>Cappuccino</p>

<p>Espresso</p>

<p>Americano</p>

<p><code class="highlighter-rouge">sort coffee.txt</code></p>

<p>Americano</p>

<p>Cappuccino</p>

<p>Espresso</p>

<p>Mocha</p>

<p>The -r flag sorts it in reverse order</p>

<p><code class="highlighter-rouge">sort -r coffee.txt</code></p>

<p>Mocha</p>

<p>Espresso</p>

<p>Cappuccino</p>

<p>Americano</p>

<p>For number sorting, use the -n flag</p>

<p><code class="highlighter-rouge">sort orders.txt</code></p>

<p>1003 Americano</p>

<p>100 Mocha</p>

<p>25 Cappuccino</p>

<p>63 Espresso</p>

<p><code class="highlighter-rouge">sort -n orders.txt</code></p>

<p>25 Cappuccino</p>

<p>63 Espresso</p>

<p>100 Mocha</p>

<p>1003 Americano</p>

<hr />

<ul>
  <li>history</li>
</ul>

<p>It gives you a list of commands that were run by the current user. These commands are stored in a hidden file called “bash_history” located in the user’s home directory. The command history are accompanied by a index number. In order to clear a specific command use</p>

<p><code class="highlighter-rouge">history -d &lt;line-number&gt;</code></p>

<p>To clear multiple lines, say lines 1800 to 1815 write the following in  To clear lines from let’s say line 1800 to 1815 , use the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for line in $(seq 1800 1815) ; do history -d 1800; done
</code></pre></div></div>

<div>
  <div>
    If you want to delete the history for the deletion command, write 1816 (1815 +1) and the history for that sequence will be deleted along with the deletion command too.
  </div>
</div>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/welcome/">
        Welcome
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">24 Jun 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        Uncategorized
      
    
  </span>
</div>


    
      <p>Welcome to my blog. This is where I jot down the things my mind happens to retain when I’m tinkering with various tools and technologies. A systematic braindump, I call it. Hope you find it useful.</p>

    

    
      
      
      

      
    
  </article>
  

  

</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
