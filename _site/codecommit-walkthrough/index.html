<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Getting Started with CodeCommit &middot; Akash Nair
    
  </title>
 
   <!-- enable google analytics-->
   

   <!-- enable seo optimization-->
   <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Getting Started with CodeCommit | Akash Nair</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Getting Started with CodeCommit" />
<meta name="author" content="Akash" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Setting up CodeCommit This tutorial is written for the linux environment and uses SSH as the communication protocol. First, we need an IAM user that has full access to the AWS CodeCommit service. You can either create a new user and attach the appropriate policy to it or use an existing user. Next, we install Git on the instance. In order to associate the IAM user with full CodeCommit access with the EC2 instance, we will create an ssh-key pair on the instance and link it with the IAM user through the AWS console. While logged in to the instance, perform the following steps &lt;ul style=&quot;list-style-type: disc;&quot;&gt; ssh-keygen Enter a file name. Example code_commit Enter the passphrase if required and press enter This will generate two files:  The private key file code_commit and the public key file code_commit.pub. Copy the contents of the public key and save it (we&#8217;ll require it in the following steps) &lt;/ul&gt; Go to the IAM console, choose Policies and then select IAMUserSSHKeys. Click on Attach and then select the IAM user we created/chose in the first step. Click on Attach Policy Go back to the IAM console and click on Users. Select our IAM user, scroll down and click on Upload SSH public key. Paste the text you copied previously and click Upload SSH public key Copy the SSH Key ID that will be generated and save it Inside the instance, create a file “config” inside ~/.ssh with the following contents Save the file and modify permissions: &lt;ul style=&quot;list-style-type: disc;&quot;&gt; chmod 600 config &lt;/ul&gt; Test the SSH connection to CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; &lt;span class=&quot;hljs-tag&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;git-codecommit&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.us-east-1&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.amazonaws&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.com&lt;/span&gt; &lt;/ul&gt; If you get a public key denied error, try moving your config and key files to the .ssh directory of the root user. Creating a Repository Go to the CodeCommit Console. Create a new repository and give it a name and description (optional). Create a new directory on your instance. &lt;ul style=&quot;list-style-type: disc;&quot;&gt; mkdir skywide &lt;/ul&gt; Add the directory to git by running &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git init skywide (This will create a .git directory inside skywide) &lt;/ul&gt; Make a simple file inside the directory in order to test if the implementation is working, say index.html &lt;ul style=&quot;list-style-type: disc;&quot;&gt; sudo nano index.html &lt;/ul&gt; Add the index.html file to git &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git add index.html &lt;/ul&gt; Run git status &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git status &lt;/ul&gt; To connect the instance to the repo you created on CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/SkyWide &lt;/ul&gt; In order to commit the file to the repo, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git commit -m &quot;First Commit&quot;Where -m is a message flag that adds a comment to the commit. &lt;/ul&gt; In order to push the commit to CodeCommit, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git push origin master This pushes the master (your local repo) to origin (the CodeCommit repo set in step 7). &lt;/ul&gt;" />
<meta property="og:description" content="Setting up CodeCommit This tutorial is written for the linux environment and uses SSH as the communication protocol. First, we need an IAM user that has full access to the AWS CodeCommit service. You can either create a new user and attach the appropriate policy to it or use an existing user. Next, we install Git on the instance. In order to associate the IAM user with full CodeCommit access with the EC2 instance, we will create an ssh-key pair on the instance and link it with the IAM user through the AWS console. While logged in to the instance, perform the following steps &lt;ul style=&quot;list-style-type: disc;&quot;&gt; ssh-keygen Enter a file name. Example code_commit Enter the passphrase if required and press enter This will generate two files:  The private key file code_commit and the public key file code_commit.pub. Copy the contents of the public key and save it (we&#8217;ll require it in the following steps) &lt;/ul&gt; Go to the IAM console, choose Policies and then select IAMUserSSHKeys. Click on Attach and then select the IAM user we created/chose in the first step. Click on Attach Policy Go back to the IAM console and click on Users. Select our IAM user, scroll down and click on Upload SSH public key. Paste the text you copied previously and click Upload SSH public key Copy the SSH Key ID that will be generated and save it Inside the instance, create a file “config” inside ~/.ssh with the following contents Save the file and modify permissions: &lt;ul style=&quot;list-style-type: disc;&quot;&gt; chmod 600 config &lt;/ul&gt; Test the SSH connection to CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; &lt;span class=&quot;hljs-tag&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;git-codecommit&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.us-east-1&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.amazonaws&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.com&lt;/span&gt; &lt;/ul&gt; If you get a public key denied error, try moving your config and key files to the .ssh directory of the root user. Creating a Repository Go to the CodeCommit Console. Create a new repository and give it a name and description (optional). Create a new directory on your instance. &lt;ul style=&quot;list-style-type: disc;&quot;&gt; mkdir skywide &lt;/ul&gt; Add the directory to git by running &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git init skywide (This will create a .git directory inside skywide) &lt;/ul&gt; Make a simple file inside the directory in order to test if the implementation is working, say index.html &lt;ul style=&quot;list-style-type: disc;&quot;&gt; sudo nano index.html &lt;/ul&gt; Add the index.html file to git &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git add index.html &lt;/ul&gt; Run git status &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git status &lt;/ul&gt; To connect the instance to the repo you created on CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/SkyWide &lt;/ul&gt; In order to commit the file to the repo, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git commit -m &quot;First Commit&quot;Where -m is a message flag that adds a comment to the commit. &lt;/ul&gt; In order to push the commit to CodeCommit, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git push origin master This pushes the master (your local repo) to origin (the CodeCommit repo set in step 7). &lt;/ul&gt;" />
<link rel="canonical" href="https://akashnair.com/codecommit-walkthrough/" />
<meta property="og:url" content="https://akashnair.com/codecommit-walkthrough/" />
<meta property="og:site_name" content="Akash Nair" />
<meta property="og:image" content="https://akashnair.com/wp-content/uploads/2015/10/almsuite_awscodecommit.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-10-26T10:56:27+01:00" />
<script type="application/ld+json">
{"url":"https://akashnair.com/codecommit-walkthrough/","headline":"Getting Started with CodeCommit","dateModified":"2015-10-26T10:56:27+01:00","datePublished":"2015-10-26T10:56:27+01:00","image":"https://akashnair.com/wp-content/uploads/2015/10/almsuite_awscodecommit.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://akashnair.com/codecommit-walkthrough/"},"author":{"@type":"Person","name":"Akash"},"description":"Setting up CodeCommit This tutorial is written for the linux environment and uses SSH as the communication protocol. First, we need an IAM user that has full access to the AWS CodeCommit service. You can either create a new user and attach the appropriate policy to it or use an existing user. Next, we install Git on the instance. In order to associate the IAM user with full CodeCommit access with the EC2 instance, we will create an ssh-key pair on the instance and link it with the IAM user through the AWS console. While logged in to the instance, perform the following steps &lt;ul style=&quot;list-style-type: disc;&quot;&gt; ssh-keygen Enter a file name. Example code_commit Enter the passphrase if required and press enter This will generate two files:  The private key file code_commit and the public key file code_commit.pub. Copy the contents of the public key and save it (we&#8217;ll require it in the following steps) &lt;/ul&gt; Go to the IAM console, choose Policies and then select IAMUserSSHKeys. Click on Attach and then select the IAM user we created/chose in the first step. Click on Attach Policy Go back to the IAM console and click on Users. Select our IAM user, scroll down and click on Upload SSH public key. Paste the text you copied previously and click Upload SSH public key Copy the SSH Key ID that will be generated and save it Inside the instance, create a file “config” inside ~/.ssh with the following contents Save the file and modify permissions: &lt;ul style=&quot;list-style-type: disc;&quot;&gt; chmod 600 config &lt;/ul&gt; Test the SSH connection to CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; &lt;span class=&quot;hljs-tag&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;git-codecommit&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.us-east-1&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.amazonaws&lt;/span&gt;&lt;span class=&quot;hljs-class&quot;&gt;.com&lt;/span&gt; &lt;/ul&gt; If you get a public key denied error, try moving your config and key files to the .ssh directory of the root user. Creating a Repository Go to the CodeCommit Console. Create a new repository and give it a name and description (optional). Create a new directory on your instance. &lt;ul style=&quot;list-style-type: disc;&quot;&gt; mkdir skywide &lt;/ul&gt; Add the directory to git by running &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git init skywide (This will create a .git directory inside skywide) &lt;/ul&gt; Make a simple file inside the directory in order to test if the implementation is working, say index.html &lt;ul style=&quot;list-style-type: disc;&quot;&gt; sudo nano index.html &lt;/ul&gt; Add the index.html file to git &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git add index.html &lt;/ul&gt; Run git status &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git status &lt;/ul&gt; To connect the instance to the repo you created on CodeCommit &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/SkyWide &lt;/ul&gt; In order to commit the file to the repo, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git commit -m &quot;First Commit&quot;Where -m is a message flag that adds a comment to the commit. &lt;/ul&gt; In order to push the commit to CodeCommit, run &lt;ul style=&quot;list-style-type: disc;&quot;&gt; git push origin master This pushes the master (your local repo) to origin (the CodeCommit repo set in step 7). &lt;/ul&gt;","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->
</head>

  <body class="post">

    <div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Akash Nair
      </a>
    </div>
    <p class="lead">I am a DevOps Engineer and an automation extremist. I design, build and implement architectures on the cloud</p>
  </header>
  <nav id="sidebar-nav-links">
  
  

  

  <div id="profile-container">
     <center><image height=190 width=190 id="profileImage" src="/assets/images/avatar.png" /></center>
  </div>

  <!-- Icons downloaded from https://iconmonstr.com/ -->
  <!-- Home link sidebar-->
  <a id="home-link"
       title="Home" aria-label="Home"
       href="/">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.5 14.625c0 .484-.387.875-.864.875h-5.273c-.477 0-.863-.392-.863-.875s.387-.875.863-.875h5.272c.478 0 .865.391.865.875zm-6.191-4.375h2.466c.448 0 .809-.392.809-.875s-.361-.875-.81-.875h-2.465c-.447 0-.809.392-.809.875s.362.875.809.875zm14.691 1.75c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-1.039c0-.383-.311-.692-.691-.692h-1.138c-.583 0-.69-.446-.69-.996-.001-2.36-1.91-4.273-4.265-4.273h-2.952c-2.355 0-4.264 1.913-4.264 4.272v5.455c0 2.36 1.909 4.273 4.264 4.273h5.474c2.353 0 4.262-1.913 4.262-4.272v-3.767z"/></svg>
       Home
    </a>

  <!--LinkedIn link sidebar-->
  <a id="linkedin-link"
       title="LinkedIn" aria-label="LinkedIn"
       href="https://www.linkedin.com/in/akashnair/" target="_blank">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 8c0 .557-.447 1.008-1 1.008s-1-.45-1-1.008c0-.557.447-1.008 1-1.008s1 .452 1 1.008zm0 2h-2v6h2v-6zm3 0h-2v6h2v-2.861c0-1.722 2.002-1.881 2.002 0v2.861h1.998v-3.359c0-3.284-3.128-3.164-4-1.548v-1.093z"/></svg>       
       LinkedIn
    </a>

  <!--Github link sidebar-->
  <a id="github-link"
       title="GitHub" aria-label="GitHub Profile"
       href="https://github.com/slashr" target="_blank">      
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
       GitHub
    </a>

 <!-- Resume link sidebar-->
  <a id="Resume-link"
       title="Resume" aria-label="Resume"
       href="/assets/Akash-Nair-Resume.pdf">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23.995 24h-1.995c0-3.104.119-3.55-1.761-3.986-2.877-.664-5.594-1.291-6.584-3.458-.361-.791-.601-2.095.31-3.814 2.042-3.857 2.554-7.165 1.403-9.076-1.341-2.229-5.413-2.241-6.766.034-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 4.983 0 8.451 4.766 3.732 13.678-1.551 2.928 1.65 3.624 5.09 4.418 2.979.688 3.178 2.143 3.178 4.663l-.005 1.241zm-13.478-6l.91 2h1.164l.92-2h-2.994zm2.995 6l-.704-3h-1.615l-.704 3h3.023z"/></svg>
       Resume
    </a>


 <!-- 


  

  
    
      <a class="page-link "
          href="/about.html">About</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  


  


  

  
    
  

  
    
      <a class="category-link "
          href="/category/edge-case.html">Edge Case</a>
    
  

  
    
  

  

  
    
      <a class="category-link "
          href="/category/markup.html">Markup</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  
-->

  <!-- Optional additional links to insert in sidebar nav -->
</nav>



 <!-- <nav id="sidebar-icon-links">
<!--
    <a id="github-link"
       class="icon" title="Github Project" aria-label="Github Project"
       href="https://github.com/slashr">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    </a>
    <a id="github-download-link"
       class="icon" title="Download" aria-label="Download"
       href="https://github.com/slashr/archive/v.zip">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>

 <!-- <p>
 <!--font size="1"> &copy; 2019 All rights reserved.</font-->
  <!--<a href="/LICENSE.md">MIT License.</a>-->
</p>
 
</div>


    <main class="container">
      <header>
  <h1 class="post-title">Getting Started with CodeCommit</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">26 Oct 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        Automation
      
    
      &bull;

      
      
      

      
        AWS
      
    
      &bull;

      
      
      

      
        Ops
      
    
  </span>
</div>


  <div class="post-body">
    <h4 id="setting-up-codecommit">Setting up CodeCommit</h4>

<p>This tutorial is written for the linux environment and uses SSH as the communication protocol.</p>

<ol>
  <li>First, we need an IAM user that has full access to the AWS CodeCommit service. You can either create a new user and attach the appropriate policy to it or use an existing user.</li>
  <li>Next, we install Git on the instance.</li>
  <li>In order to associate the IAM user with full CodeCommit access with the EC2 instance, we will create an ssh-key pair on the instance and link it with the IAM user through the AWS console. While logged in to the instance, perform the following steps &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code class="nohighlight">ssh-keygen</code> <ol>
     <li>
       Enter a file name. Example code_commit
     </li>
     <li>
       Enter the passphrase if required and press enter
     </li>
   </ol>
 </li>

    <li>
   This will generate two files:  The private key file <em>code_commit</em> and the public key file <em>code_commit.pub</em>. Copy the contents of the public key and save it (we&#8217;ll require it in the following steps)
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Go to the IAM console, choose Policies and then select IAMUserSSHKeys. Click on Attach and then select the IAM user we created/chose in the first step. Click on Attach Policy</li>
  <li>Go back to the IAM console and click on Users. Select our IAM user, scroll down and click on Upload SSH public key. Paste the text you copied previously and click Upload SSH public key</li>
  <li>Copy the SSH Key ID that will be generated and save it</li>
  <li>
    <p>Inside the instance, create a file “config” inside ~/.ssh with the following contents</p>
  </li>
  <li>Save the file and modify permissions: &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>chmod 600 config</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Test the SSH connection to CodeCommit &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code class="${guide.default.syntax.language} hljs css">&lt;span class="hljs-tag"&gt;ssh&lt;/span&gt; &lt;span class="hljs-tag"&gt;git-codecommit&lt;/span&gt;&lt;span class="hljs-class"&gt;.us-east-1&lt;/span&gt;&lt;span class="hljs-class"&gt;.amazonaws&lt;/span&gt;&lt;span class="hljs-class"&gt;.com&lt;/span&gt;</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>If you get a public key denied error, try moving your config and key files to the .ssh directory of the root user.</li>
</ol>

<hr />

<h4 id="creating-a-repository"><strong>Creating a Repository</strong></h4>

<ol>
  <li>Go to the CodeCommit Console. Create a new repository and give it a name and description (optional).</li>
  <li>Create a new directory on your instance. &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>mkdir skywide</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Add the directory to git by running &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git init skywide</code> (This will create a .git directory inside skywide)
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Make a simple file inside the directory in order to test if the implementation is working, say index.html &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>sudo nano index.html</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Add the index.html file to git &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git add index.html</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>Run git status &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git status</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>To connect the instance to the repo you created on CodeCommit &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git remote add origin ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/SkyWide</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>In order to commit the file to the repo, run &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git commit -m "First Commit"Where -m is a message flag that adds a comment to the commit.</code>
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
  <li>In order to push the commit to CodeCommit, run &lt;ul style="list-style-type: disc;"&gt;
    <li>
   <code>git push origin master</code><br /> This pushes the master (your local repo) to origin (the CodeCommit repo set in step 7).
 </li>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;/ul&gt;
</code></pre></div>    </div>
  </li>
</ol>

    



<div class="post-tags">
  
    
    <a href="/tags.html#automation">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">automation</span>
    </a>
  
    
    <a href="/tags.html#aws">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">aws</span>
    </a>
  
    
    <a href="/tags.html#codecommit">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">codecommit</span>
    </a>
  
    
    <a href="/tags.html#devops">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">devops</span>
    </a>
  
</div>
  </div>

  
  <section class="comments">
    <h2>Comments</h2>
    
  <div id="disqus_thread">
    <button class="disqus-load" onClick="loadDisqusComments()">
      Load Comments
    </button>
  </div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW
  *  TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT:s
  *  https://disqus.com/admin/universalcode/#configuration-variables
  */
  var disqus_config = function () {
    this.page.url = "https://akashnair.com/codecommit-walkthrough/";
    this.page.identifier = "http://skywide.in/?p=367" ||
                           "https://akashnair.com/codecommit-walkthrough/";
  }
  function loadDisqusComments() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//Mektoplack99.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  }
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.
  </noscript>



  </section>

  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    
      <li>
        <h3>
          <a href="/jenkins-kaniko-kubernetes-cloud-ci-cd/">
            Jenkins, Kaniko, Kubernetes: The Cloud CI/CD Trifecta
            <small>24 Jun 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/fire-suppression-using-smart-sensors-iot/">
            Suppressing Fires using Gas: An IoT Experiment
            <small>17 Mar 2018</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/using-lambda-turn-off-ec2-instances/">
            Using Lambda to Turn Off EC2 Instances During Off Hours
            <small>24 Nov 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</section>

</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
