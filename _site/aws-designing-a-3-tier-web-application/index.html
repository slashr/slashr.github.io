<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Designing a 3-tier Web Application on AWS &middot; Akash Nair
    
  </title>
 
   <!-- enable google analytics-->
   

   <!-- enable seo optimization-->
   <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Designing a 3-tier Web Application on AWS | Akash Nair</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Designing a 3-tier Web Application on AWS" />
<meta name="author" content="Akash" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Making the Most of AWS With an increasing number of websites and web applications moving their infrastructure to AWS from the traditional “web hosting” services, it has become important to ensure that this shift is done properly and in a well-planned manner. Doing so ensures that the application is able to make the most of the benefits AWS has to offer like Scalability, High Availability, Fault Tolerance, Content Distribution Networks and so on. Below is a guide on how to leverage the infrastructure provided by AWS to create a highly scalable and fault tolerant web architecture. 1) Create a VPC The first step is to create a Virtual Private Cloud with a CIDR IP range of your choice. The block size should be between /16 and /28 A nice, blank canvas for us to work on 2) Create subnets Next step is to create subnets under the VPC. For our architecture, we’ll design two private subnets in two different availability zones. Two subnets corresponding to two different Availability Zones in order to implement High Availability 3) Adding an Internet Gateway In order for the instances to access the internet, we must attach an Internet Gateway to the VPC. We’ll first create an Internet Gateway and then attach it to our VPC. In addition to this, we need to edit the Route Tables being used by the two subnets (a route table is created automatically whenever a VPC is created and all the subnets created inside the VPC get implicitly associated with this route table). Edit the Route Table and add “0.0.0.0/0” to the Target field and select the IGW (Internet Gateway) in the Destination field. This will direct all traffic headed towards “0.0.0.0/0” to the IGW which will then route it to the appropriate destination. IGW allows communicating with internet 4) Launch Instances We only require one instance each for the Web Layer and the Application Layer. The instance will be added to corresponding Auto-Scaling groups (one for Web Layer and one for Application Layer) which will automatically increase or decrease the number of instances in the group. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Launch a single instance of the Web and App servers&lt;/figcaption&gt;&lt;/figure&gt; 5) Create Load Balancers Create two Elastic Load Balancers, for the Web Layer and Application Layer respectively. While creating it, configure the ELBs to span both the subnets. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Load balancers for the Web and App layer respectively&lt;/figcaption&gt;&lt;/figure&gt; 6) **Create Auto-Scaling Group and attach it to Load Balancer ** There are three steps under this. i) After configuring the Web and Application servers launched above, create an AMI of both. ii) Create two Auto-Scaling groups for both the Web and Application Layers using the AMIs created in the above step. iii) Attach the Web Layer Auto-Scaling group to the Web Layer ELB and the Application Layer Aut0-Scaling group to the Application Layer ELB &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create two AutoScaling groups and attach it to the corresponding ELBs&lt;/figcaption&gt;&lt;/figure&gt; 7) Add the third Database Layer Add an RDS instance in Multi-AZ mode which will create a standby RDS instance. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;RDS the third layer of the architecture&lt;/figcaption&gt;&lt;/figure&gt; 8) Create CloudFront Distribution using ELB endpoint &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CloudFront distribution using the Web Layer ELB endpoint&lt;/figcaption&gt;&lt;/figure&gt; 9) Add an S3 bucket to store static content. Connect CloudFront to this bucket. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Store static content on S3 and connect it to CloudFront to S3 which will cache and serve the content&lt;/figcaption&gt;&lt;/figure&gt; 10) Map your domain to the CloudFront Distribution URL by using Route 53 to configure a CNAME record. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CNAME record using CloudFront Distribution URL on Route 53&lt;/figcaption&gt;&lt;/figure&gt; By following this design methodology, we can ensure that our architecture is capable of utilizing scalable infrastructure. It is important to identify the components in your architecture that can potentially cause bottlenecks. By refactoring such components, your infrastructure can be made non-blocking. It is also equally important to ensure that your application plays well with scalability. Ideally, your application should be stateless in nature and highly decoupled. In this way, you are ready to exploit the cloud and fully leverage the benefits it has to offer. Reference: http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf" />
<meta property="og:description" content="Making the Most of AWS With an increasing number of websites and web applications moving their infrastructure to AWS from the traditional “web hosting” services, it has become important to ensure that this shift is done properly and in a well-planned manner. Doing so ensures that the application is able to make the most of the benefits AWS has to offer like Scalability, High Availability, Fault Tolerance, Content Distribution Networks and so on. Below is a guide on how to leverage the infrastructure provided by AWS to create a highly scalable and fault tolerant web architecture. 1) Create a VPC The first step is to create a Virtual Private Cloud with a CIDR IP range of your choice. The block size should be between /16 and /28 A nice, blank canvas for us to work on 2) Create subnets Next step is to create subnets under the VPC. For our architecture, we’ll design two private subnets in two different availability zones. Two subnets corresponding to two different Availability Zones in order to implement High Availability 3) Adding an Internet Gateway In order for the instances to access the internet, we must attach an Internet Gateway to the VPC. We’ll first create an Internet Gateway and then attach it to our VPC. In addition to this, we need to edit the Route Tables being used by the two subnets (a route table is created automatically whenever a VPC is created and all the subnets created inside the VPC get implicitly associated with this route table). Edit the Route Table and add “0.0.0.0/0” to the Target field and select the IGW (Internet Gateway) in the Destination field. This will direct all traffic headed towards “0.0.0.0/0” to the IGW which will then route it to the appropriate destination. IGW allows communicating with internet 4) Launch Instances We only require one instance each for the Web Layer and the Application Layer. The instance will be added to corresponding Auto-Scaling groups (one for Web Layer and one for Application Layer) which will automatically increase or decrease the number of instances in the group. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Launch a single instance of the Web and App servers&lt;/figcaption&gt;&lt;/figure&gt; 5) Create Load Balancers Create two Elastic Load Balancers, for the Web Layer and Application Layer respectively. While creating it, configure the ELBs to span both the subnets. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Load balancers for the Web and App layer respectively&lt;/figcaption&gt;&lt;/figure&gt; 6) **Create Auto-Scaling Group and attach it to Load Balancer ** There are three steps under this. i) After configuring the Web and Application servers launched above, create an AMI of both. ii) Create two Auto-Scaling groups for both the Web and Application Layers using the AMIs created in the above step. iii) Attach the Web Layer Auto-Scaling group to the Web Layer ELB and the Application Layer Aut0-Scaling group to the Application Layer ELB &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create two AutoScaling groups and attach it to the corresponding ELBs&lt;/figcaption&gt;&lt;/figure&gt; 7) Add the third Database Layer Add an RDS instance in Multi-AZ mode which will create a standby RDS instance. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;RDS the third layer of the architecture&lt;/figcaption&gt;&lt;/figure&gt; 8) Create CloudFront Distribution using ELB endpoint &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CloudFront distribution using the Web Layer ELB endpoint&lt;/figcaption&gt;&lt;/figure&gt; 9) Add an S3 bucket to store static content. Connect CloudFront to this bucket. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Store static content on S3 and connect it to CloudFront to S3 which will cache and serve the content&lt;/figcaption&gt;&lt;/figure&gt; 10) Map your domain to the CloudFront Distribution URL by using Route 53 to configure a CNAME record. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CNAME record using CloudFront Distribution URL on Route 53&lt;/figcaption&gt;&lt;/figure&gt; By following this design methodology, we can ensure that our architecture is capable of utilizing scalable infrastructure. It is important to identify the components in your architecture that can potentially cause bottlenecks. By refactoring such components, your infrastructure can be made non-blocking. It is also equally important to ensure that your application plays well with scalability. Ideally, your application should be stateless in nature and highly decoupled. In this way, you are ready to exploit the cloud and fully leverage the benefits it has to offer. Reference: http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf" />
<link rel="canonical" href="http://localhost:4000/aws-designing-a-3-tier-web-application/" />
<meta property="og:url" content="http://localhost:4000/aws-designing-a-3-tier-web-application/" />
<meta property="og:site_name" content="Akash Nair" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-07-08T13:29:54+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Designing a 3-tier Web Application on AWS" />
<script type="application/ld+json">
{"headline":"Designing a 3-tier Web Application on AWS","dateModified":"2015-07-08T13:29:54+02:00","datePublished":"2015-07-08T13:29:54+02:00","author":{"@type":"Person","name":"Akash"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/aws-designing-a-3-tier-web-application/"},"@type":"BlogPosting","description":"Making the Most of AWS With an increasing number of websites and web applications moving their infrastructure to AWS from the traditional “web hosting” services, it has become important to ensure that this shift is done properly and in a well-planned manner. Doing so ensures that the application is able to make the most of the benefits AWS has to offer like Scalability, High Availability, Fault Tolerance, Content Distribution Networks and so on. Below is a guide on how to leverage the infrastructure provided by AWS to create a highly scalable and fault tolerant web architecture. 1) Create a VPC The first step is to create a Virtual Private Cloud with a CIDR IP range of your choice. The block size should be between /16 and /28 A nice, blank canvas for us to work on 2) Create subnets Next step is to create subnets under the VPC. For our architecture, we’ll design two private subnets in two different availability zones. Two subnets corresponding to two different Availability Zones in order to implement High Availability 3) Adding an Internet Gateway In order for the instances to access the internet, we must attach an Internet Gateway to the VPC. We’ll first create an Internet Gateway and then attach it to our VPC. In addition to this, we need to edit the Route Tables being used by the two subnets (a route table is created automatically whenever a VPC is created and all the subnets created inside the VPC get implicitly associated with this route table). Edit the Route Table and add “0.0.0.0/0” to the Target field and select the IGW (Internet Gateway) in the Destination field. This will direct all traffic headed towards “0.0.0.0/0” to the IGW which will then route it to the appropriate destination. IGW allows communicating with internet 4) Launch Instances We only require one instance each for the Web Layer and the Application Layer. The instance will be added to corresponding Auto-Scaling groups (one for Web Layer and one for Application Layer) which will automatically increase or decrease the number of instances in the group. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Launch a single instance of the Web and App servers&lt;/figcaption&gt;&lt;/figure&gt; 5) Create Load Balancers Create two Elastic Load Balancers, for the Web Layer and Application Layer respectively. While creating it, configure the ELBs to span both the subnets. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Load balancers for the Web and App layer respectively&lt;/figcaption&gt;&lt;/figure&gt; 6) **Create Auto-Scaling Group and attach it to Load Balancer ** There are three steps under this. i) After configuring the Web and Application servers launched above, create an AMI of both. ii) Create two Auto-Scaling groups for both the Web and Application Layers using the AMIs created in the above step. iii) Attach the Web Layer Auto-Scaling group to the Web Layer ELB and the Application Layer Aut0-Scaling group to the Application Layer ELB &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create two AutoScaling groups and attach it to the corresponding ELBs&lt;/figcaption&gt;&lt;/figure&gt; 7) Add the third Database Layer Add an RDS instance in Multi-AZ mode which will create a standby RDS instance. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;RDS the third layer of the architecture&lt;/figcaption&gt;&lt;/figure&gt; 8) Create CloudFront Distribution using ELB endpoint &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CloudFront distribution using the Web Layer ELB endpoint&lt;/figcaption&gt;&lt;/figure&gt; 9) Add an S3 bucket to store static content. Connect CloudFront to this bucket. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Store static content on S3 and connect it to CloudFront to S3 which will cache and serve the content&lt;/figcaption&gt;&lt;/figure&gt; 10) Map your domain to the CloudFront Distribution URL by using Route 53 to configure a CNAME record. &lt;figcaption class=&quot;wp-caption-text&quot;&gt;Create a CNAME record using CloudFront Distribution URL on Route 53&lt;/figcaption&gt;&lt;/figure&gt; By following this design methodology, we can ensure that our architecture is capable of utilizing scalable infrastructure. It is important to identify the components in your architecture that can potentially cause bottlenecks. By refactoring such components, your infrastructure can be made non-blocking. It is also equally important to ensure that your application plays well with scalability. Ideally, your application should be stateless in nature and highly decoupled. In this way, you are ready to exploit the cloud and fully leverage the benefits it has to offer. Reference: http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf","url":"http://localhost:4000/aws-designing-a-3-tier-web-application/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->
</head>

  <body class="post">

    <div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Akash Nair
      </a>
    </div>
    <p class="lead">I am a DevOps Engineer and infrastructure nerd. I design and build on the cloud.</p>
  </header>
  <nav id="sidebar-nav-links">
  
  

  

  <div id="profile-container">
     <center><image height=190 width=190 id="profileImage" src="/assets/images/avatar.png" /></center>
  </div>

  <!-- Icons downloaded from https://iconmonstr.com/ -->
  <!-- Home link sidebar-->
  <a id="home-link"
       title="Home" aria-label="Home"
       href="/">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.5 14.625c0 .484-.387.875-.864.875h-5.273c-.477 0-.863-.392-.863-.875s.387-.875.863-.875h5.272c.478 0 .865.391.865.875zm-6.191-4.375h2.466c.448 0 .809-.392.809-.875s-.361-.875-.81-.875h-2.465c-.447 0-.809.392-.809.875s.362.875.809.875zm14.691 1.75c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-1.039c0-.383-.311-.692-.691-.692h-1.138c-.583 0-.69-.446-.69-.996-.001-2.36-1.91-4.273-4.265-4.273h-2.952c-2.355 0-4.264 1.913-4.264 4.272v5.455c0 2.36 1.909 4.273 4.264 4.273h5.474c2.353 0 4.262-1.913 4.262-4.272v-3.767z"/></svg>
       Home
    </a>

  <!--LinkedIn link sidebar-->
  <a id="linkedin-link"
       title="LinkedIn" aria-label="LinkedIn"
       href="https://www.linkedin.com/in/akashnair/" target="_blank">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 8c0 .557-.447 1.008-1 1.008s-1-.45-1-1.008c0-.557.447-1.008 1-1.008s1 .452 1 1.008zm0 2h-2v6h2v-6zm3 0h-2v6h2v-2.861c0-1.722 2.002-1.881 2.002 0v2.861h1.998v-3.359c0-3.284-3.128-3.164-4-1.548v-1.093z"/></svg>       
       LinkedIn
    </a>

  <!--Github link sidebar-->
  <a id="github-link"
       title="GitHub" aria-label="GitHub Profile"
       href="https://github.com/slashr" target="_blank">      
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
       GitHub
    </a>

 <!-- Resume link sidebar-->
  <a id="Resume-link"
       title="Resume" aria-label="Resume"
       href="https://docs.google.com/document/d/1aBvBy7fW8vMBHsNhBMWjAaaWMLfrmhOxuiaCSHR46Ms/edit">
       <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23.995 24h-1.995c0-3.104.119-3.55-1.761-3.986-2.877-.664-5.594-1.291-6.584-3.458-.361-.791-.601-2.095.31-3.814 2.042-3.857 2.554-7.165 1.403-9.076-1.341-2.229-5.413-2.241-6.766.034-1.154 1.937-.635 5.227 1.424 9.025.93 1.712.697 3.02.338 3.815-.982 2.178-3.675 2.799-6.525 3.456-1.964.454-1.839.87-1.839 4.004h-1.995l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 4.983 0 8.451 4.766 3.732 13.678-1.551 2.928 1.65 3.624 5.09 4.418 2.979.688 3.178 2.143 3.178 4.663l-.005 1.241zm-13.478-6l.91 2h1.164l.92-2h-2.994zm2.995 6l-.704-3h-1.615l-.704 3h3.023z"/></svg>
       Resume
    </a>


 <!-- 


  

  
    
      <a class="page-link "
          href="/about.html">About</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  


  


  

  
    
  

  
    
      <a class="category-link "
          href="/category/edge-case.html">Edge Case</a>
    
  

  
    
  

  

  
    
      <a class="category-link "
          href="/category/markup.html">Markup</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  
-->

  <!-- Optional additional links to insert in sidebar nav -->
</nav>



 <!-- <nav id="sidebar-icon-links">
<!--
    <a id="github-link"
       class="icon" title="Github Project" aria-label="Github Project"
       href="https://github.com/slashr">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    </a>
    <a id="github-download-link"
       class="icon" title="Download" aria-label="Download"
       href="https://github.com/slashr/archive/v.zip">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>

 <!-- <p>
 <!--font size="1"> &copy; 2021 All rights reserved.</font-->
  <!--<a href="/LICENSE.md">MIT License.</a>-->
</p>
 
</div>


    <main class="container">
      <header>
  <h1 class="post-title">Designing a 3-tier Web Application on AWS</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">08 Jul 2015</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        AWS
      
    
  </span>
</div>


  <div class="post-body">
    <h2 id="making-the-most-of-aws">Making the Most of AWS</h2>

<p>With an increasing number of websites and web applications moving their infrastructure to AWS from the traditional “web hosting” services, it has become important to ensure that this shift is done properly and in a well-planned manner. Doing so ensures that the application is able to make the most of the benefits AWS has to offer like Scalability, High Availability, Fault Tolerance, Content Distribution Networks and so on.</p>

<p>Below is a guide on how to leverage the infrastructure provided by AWS to create a highly scalable and fault tolerant web architecture.</p>

<hr />

<p>1) <strong>Create a VPC</strong></p>

<p>The first step is to create a Virtual Private Cloud with a CIDR IP range of your choice. The block size should be between /16 and /28</p>

<p><img src="/assets/images/2015/07/Blank-Flowchart-New-Page1-900x854.png" alt="A nice, blank canvas for us to work on" /> A nice, blank canvas for us to work on</p>

<hr />

<p>2) <strong>Create subnets</strong></p>

<p>Next step is to create subnets under the VPC. For our architecture, we’ll design two private subnets in two different availability zones.
<img src="/assets/images/2015/07/Blank-Flowchart-New-Page.png" alt="Two subnets corresponding to two different Availability Zones in order to implement High Availability" /> Two subnets corresponding to two different Availability Zones in order to implement High Availability</p>

<hr />

<p>3) <strong>Adding an Internet Gateway</strong></p>

<p>In order for the instances to access the internet, we must attach an Internet Gateway to the VPC. We’ll first create an Internet Gateway and then attach it to our VPC. In addition to this, we need to edit the Route Tables being used by the two subnets (a route table is created automatically whenever a VPC is created and all the subnets created inside the VPC get implicitly associated with this route table).</p>

<p>Edit the Route Table and add “0.0.0.0/0” to the Target field and select the IGW (Internet Gateway) in the Destination field. This will direct all traffic headed towards “0.0.0.0/0” to the IGW which will then route it to the appropriate destination.</p>

<p><img src="/assets/images/2015/07/Blank-Flowchart-New-Page2.png" alt="IGW allows communicating with internet" /> IGW allows communicating with internet</p>

<hr />

<p>4) <strong>Launch Instances</strong></p>

<p>We only require one instance each for the Web Layer and the Application Layer. The instance will be added to corresponding Auto-Scaling groups (one for Web Layer and one for Application Layer) which will automatically increase or decrease the number of instances in the group.<figure id="attachment_297" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3.png"><img class="size-large wp-image-297" src="http://skywide.in/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-1024x972.png" alt="Launch a single instance of the Web and App servers " width="584" height="554" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-1024x972.png 1024w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-300x285.png 300w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3-900x854.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/Blank-Flowchart-New-Page3.png 1180w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Launch a single instance of the Web and App servers&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>5) <strong>Create Load Balancers</strong></p>

<p>Create two Elastic Load Balancers, for the Web Layer and Application Layer respectively. While creating it, configure the ELBs to span both the subnets.<figure id="attachment_307" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3.png"><img class="size-large wp-image-307" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-925x1024.png" alt="Create load balancer for the Web and App layer respectively" width="584" height="647" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-925x1024.png 925w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-271x300.png 271w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3-900x997.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page3.png 1210w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Load balancers for the Web and App layer respectively&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>6) **Create Auto-Scaling Group and attach it to Load Balancer</p>

<p>**</p>

<p>There are three steps under this.</p>

<p>i) After configuring the Web and Application servers launched above, create an AMI of both.</p>

<p>ii) Create two Auto-Scaling groups for both the Web and Application Layers using the AMIs created in the above step.</p>

<p>iii) Attach the Web Layer Auto-Scaling group to the Web Layer ELB and the Application Layer Aut0-Scaling group to the Application Layer ELB<figure id="attachment_301" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page.png"><img class="size-large wp-image-301" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-1024x1024.png" alt="Create two AutoScaling groups and attach it to the corresponding ELBs" width="584" height="584" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-1024x1024.png 1024w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-150x150.png 150w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-300x300.png 300w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-144x144.png 144w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page-900x900.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page.png 1240w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create two AutoScaling groups and attach it to the corresponding ELBs&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>7) <strong>Add the third Database Layer</strong></p>

<p>Add an RDS instance in Multi-AZ mode which will create a standby RDS instance.<figure id="attachment_302" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1.png"><img class="size-large wp-image-302" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-814x1024.png" alt="The third layer of our architecture" width="584" height="735" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-814x1024.png 814w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-238x300.png 238w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1-900x1132.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page1.png 1240w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;RDS the third layer of the architecture&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>8) <strong>Create CloudFront Distribution using ELB endpoint</strong><figure id="attachment_304" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2.png"><img class="size-large wp-image-304" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-656x1024.png" alt="Create a CloudFront distribution using the ELB endpoint" width="584" height="912" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-656x1024.png 656w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-192x300.png 192w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2-900x1405.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page2.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create a CloudFront distribution using the Web Layer ELB endpoint&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>9) <strong>Add an S3 bucket to store static content. Connect CloudFront to this bucket.</strong><figure id="attachment_305" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11.png"><img class="size-large wp-image-305" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-643x1024.png" alt="Connect CloudFront to S3 for serving static content" width="584" height="930" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-643x1024.png 643w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-188x300.png 188w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11-900x1434.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page11.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Store static content on S3 and connect it to CloudFront to S3 which will cache and serve the content&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>10) <strong>Map your domain to the CloudFront Distribution URL by using Route 53 to configure a CNAME record.</strong><figure id="attachment_306" style="width: 584px" class="wp-caption aligncenter"></figure></p>

<p><a href="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21.png"><img class="size-large wp-image-306" src="http://skywide.in/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-643x1024.png" alt="Create CNAME record using CloudFront Distribution URL" width="584" height="930" srcset="https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-643x1024.png 643w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-188x300.png 188w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21-900x1434.png 900w, https://skywide.in/blog/wp-content/uploads/2015/07/3-Tier-Web-Architecture-New-Page21.png 1230w" sizes="(max-width: 584px) 100vw, 584px" /></a>&lt;figcaption class="wp-caption-text"&gt;Create a CNAME record using CloudFront Distribution URL on Route 53&lt;/figcaption&gt;&lt;/figure&gt;</p>

<hr />

<p>By following this design methodology, we can ensure that our architecture is capable of utilizing scalable infrastructure. It is important to identify the components in your architecture that can potentially cause bottlenecks. By refactoring such components, your infrastructure can be made non-blocking. It is also equally important to ensure that your application plays well with scalability. Ideally, your application should be stateless in nature and highly decoupled.</p>

<p>In this way, you are ready to exploit the cloud and fully leverage the benefits it has to offer.</p>

<p><sub>Reference: http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf</sub></p>

    



<div class="post-tags">
  
    
    <a href="/tags.html#autoscaling">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">autoscaling</span>
    </a>
  
    
    <a href="/tags.html#aws">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">aws</span>
    </a>
  
    
    <a href="/tags.html#ec2">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">ec2</span>
    </a>
  
    
    <a href="/tags.html#elb">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">elb</span>
    </a>
  
    
    <a href="/tags.html#rds">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">rds</span>
    </a>
  
    
    <a href="/tags.html#vpc">
    
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">vpc</span>
    </a>
  
</div>
  </div>

  
  <section class="comments">
    <h2>Comments</h2>
    
  <div id="disqus_thread">
    <button class="disqus-load" onClick="loadDisqusComments()">
      Load Comments
    </button>
  </div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW
  *  TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT:s
  *  https://disqus.com/admin/universalcode/#configuration-variables
  */
  var disqus_config = function () {
    this.page.url = "http://localhost:4000/aws-designing-a-3-tier-web-application/";
    this.page.identifier = "http://skywide.in/?p=288" ||
                           "http://localhost:4000/aws-designing-a-3-tier-web-application/";
  }
  function loadDisqusComments() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//Mektoplack99.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  }
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.
  </noscript>



  </section>

  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    
      <li>
        <h3>
          <a href="/grafana-loki-prometheus/">
            Observable Kubernetes Cluster Using Grafana-Loki-Prometheus
            <small>16 Jul 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/migrate-helm2-to-helm3/">
            Migrate from Helm 2 to Helm 3 Safely
            <small>01 Jan 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/jenkins-kaniko-kubernetes-cloud-ci-cd/">
            Jenkins, Kaniko, Kubernetes: The Cloud CI/CD Trifecta
            <small>24 Jun 2019</small>
          </a>
        </h3>
      </li>
    
  </ul>
</section>

</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
